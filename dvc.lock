schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ingestion.py
    deps:
    - path: data/indian_restaurant_waste_dataset.csv
      hash: md5
      md5: 1d29374c4ce105fc7fe836f9f8e93864
      size: 537749
      isexec: true
    - path: src/data_ingestion.py
      hash: md5
      md5: 07b0d8e7b80a816abfda4d744e3e125d
      size: 1560
      isexec: true
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 17c78179f48a71cc0f38f062fbf94361
      size: 105884
      isexec: true
    - path: data/processed/train.csv
      hash: md5
      md5: 04b8025882b14314974b883a9376399d
      size: 422805
      isexec: true
  data_preprocessing:
    cmd: python src/data_processing.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 17c78179f48a71cc0f38f062fbf94361
      size: 105884
      isexec: true
    - path: data/processed/train.csv
      hash: md5
      md5: 04b8025882b14314974b883a9376399d
      size: 422805
      isexec: true
    - path: src/data_processing.py
      hash: md5
      md5: 29f3a9dd77521093c81de72bf969d267
      size: 1740
      isexec: true
    outs:
    - path: data/processed/test_preprocessed.csv
      hash: md5
      md5: 448c7638cc0f2e30eb4f87ee0842946f
      size: 94596
      isexec: true
    - path: data/processed/train_preprocessed.csv
      hash: md5
      md5: 16ed50d2a39960959d6d746ae155d1b2
      size: 377918
      isexec: true
  feature_engineering:
    cmd: python src/feature_eng.py
    deps:
    - path: data/processed/processed_data.csv
      hash: md5
      md5: fe1a9ce3b49a345d4ca37a0502a704e0
      size: 528598
      isexec: true
    - path: src/feature_eng.py
      hash: md5
      md5: 851d9d10c36f121867ec1245b04a8b8b
      size: 539
      isexec: true
    outs:
    - path: data/processed/feature_data.csv
      hash: md5
      md5: d2f0609656d22c11c492e637cdf21bcd
      size: 419353
      isexec: true
  model_training:
    cmd: python src/model_train.py
    deps:
    - path: data/processed/feature_data.csv
      hash: md5
      md5: d2f0609656d22c11c492e637cdf21bcd
      size: 419353
      isexec: true
    - path: src/model_train.py
      hash: md5
      md5: fe6dad90cab15e213abef3e771b39e5d
      size: 921
      isexec: true
    outs:
    - path: models/xgb_food_waste_model.pkl
      hash: md5
      md5: 61ba9e8283eaaf49d2692ff43e394ba7
      size: 1227567
      isexec: true
  model_evaluation:
    cmd: python src/model_eval.py
    deps:
    - path: data/processed/feature_data.csv
      hash: md5
      md5: d2f0609656d22c11c492e637cdf21bcd
      size: 419353
      isexec: true
    - path: models/xgb_food_waste_model.pkl
      hash: md5
      md5: 61ba9e8283eaaf49d2692ff43e394ba7
      size: 1227567
      isexec: true
    - path: src/model_eval.py
      hash: md5
      md5: 0c3f7cb47f79c9fc72c9734a096619c3
      size: 970
      isexec: true
    outs:
    - path: metrics.txt
      hash: md5
      md5: bc2ca84185b19dd565bbe114d883de35
      size: 71
      isexec: true
  feature_eng:
    cmd: python src/feature_eng.py
    deps:
    - path: data/processed/test_preprocessed.csv
      hash: md5
      md5: 448c7638cc0f2e30eb4f87ee0842946f
      size: 94596
      isexec: true
    - path: data/processed/train_preprocessed.csv
      hash: md5
      md5: 16ed50d2a39960959d6d746ae155d1b2
      size: 377918
      isexec: true
    - path: src/feature_eng.py
      hash: md5
      md5: b0d4eb06d3805fa692abee8fc5755512
      size: 1297
      isexec: true
    outs:
    - path: data/processed/test_fe.csv
      hash: md5
      md5: 448c7638cc0f2e30eb4f87ee0842946f
      size: 94596
      isexec: true
    - path: data/processed/train_fe.csv
      hash: md5
      md5: 16ed50d2a39960959d6d746ae155d1b2
      size: 377918
      isexec: true
  model_train:
    cmd: python src/model_train.py
    deps:
    - path: data/processed/train_fe.csv
      hash: md5
      md5: 16ed50d2a39960959d6d746ae155d1b2
      size: 377918
      isexec: true
    - path: src/model_train.py
      hash: md5
      md5: 9f5beda4699703a3a499cab38002f830
      size: 2679
      isexec: true
    outs:
    - path: models/lr_food_waste_model.pkl
      hash: md5
      md5: b85f61b086f495b59807a157021b21cf
      size: 1057
      isexec: true
    - path: models/rf_food_waste_model.pkl
      hash: md5
      md5: 5cea2b810700ac9b4c3f7e4e165159e1
      size: 5879809
      isexec: true
    - path: models/xgb_food_waste_model.pkl
      hash: md5
      md5: 4d38d4f1f1c903b0d8468d394d67c899
      size: 1310568
      isexec: true
  model_eval:
    cmd: python src/model_eval.py
    deps:
    - path: data/processed/test_fe.csv
      hash: md5
      md5: 448c7638cc0f2e30eb4f87ee0842946f
      size: 94596
      isexec: true
    - path: models/lr_food_waste_model.pkl
      hash: md5
      md5: b85f61b086f495b59807a157021b21cf
      size: 1057
      isexec: true
    - path: models/rf_food_waste_model.pkl
      hash: md5
      md5: 5cea2b810700ac9b4c3f7e4e165159e1
      size: 5879809
      isexec: true
    - path: models/xgb_food_waste_model.pkl
      hash: md5
      md5: 4d38d4f1f1c903b0d8468d394d67c899
      size: 1310568
      isexec: true
    - path: src/model_eval.py
      hash: md5
      md5: 1f8da47f5e9d1aa0def5b27217ec7eee
      size: 2553
      isexec: true
    outs:
    - path: metrics/metrics.json
      hash: md5
      md5: 0d4e45f5bf31fbb51043a883fcc2b889
      size: 421
      isexec: true
    - path: metrics/metrics.txt
      hash: md5
      md5: 6d03bdd51a597ecfca535b4f97a27f6f
      size: 344
      isexec: true
